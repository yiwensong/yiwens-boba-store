[tox]
envlist = py37
skipsdist = true

[testenv]
deps=
    -rrequirements.txt
    -rrequirements-dev.txt
commands=
    py.test {posargs:tests}
    coverage run -m pytest --strict -rxs --durations 10 {posargs:tests}
    coverage report -m --show-missing

[testenv:venv]
deps=
    -rrequirements.txt
    -rrequirements-dev.txt
commands=

[testenv:install-hooks]
commands =
    pre-commit install -f --install-hooks
